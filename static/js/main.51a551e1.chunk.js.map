{"version":3,"sources":["utils/enum/enum.ts","reportWebVitals.ts","redux/sidebar_reducer.ts","redux/app_reducer.ts","redux/store_redux.ts","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","components/Navigation/Navigation.tsx","components/Navigation/NavigationContainer.tsx","App.tsx","AppHOC.tsx","index.tsx","redux/auth_reducer.ts","components/Navigation/Navigation.module.css","components/Header/Header.module.css","redux/profile_reducer.ts","components/Users/imgAva/blak_water.gif","components/comonComponents/Preloader.tsx","redux/dialogs_reducer.ts","redux/constTypeAC/constTypies.ts","redux/users_reducer.ts","components/Users/Users.module.css","api/api.ts"],"names":["ResultCode","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","path","title","userDataInitialState","initialized","reducer","combineReducers","sidebarPage","state","profilePage","profile_reducer","dialogsPage","dialogs_reducer","users","users_reducer","auth","auth_reducer","form","formReducer","app","action","type","SET_INITIALIZED","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Header","memo","data","setLogoutThunkCreator","className","style","header","alt","src","loginBlock","resultCode","login","onClick","to","HeaderContainerAPI","this","props","Component","mapDispatchToProps","HeaderContainer","connect","Navigation","navigation","map","x","index","item","isActive","active","NavigationContainer","dispatch","test","MessagesContainer","lazy","ProfileContainer","UsersContainer","News","Login","Music","Page404","Settings","App","componentDidMount","initializeThunkCreator","fallback","element","Preloader","AppHoc","basename","process","NewApp","a","promise","setUserDataThunkCreator","Promise","all","renderEntireTree","ReactDOM","render","document","getElementById","subscribe","setUserDataAC","isAuth","SET_USER_DATA","id","email","messages","fieldsErrors","authMeAPI","me","response","success","console","warn","setLoginThunkCreator","userData","stopSubmit","_error","logout","module","exports","addPostAC","value","ADD_POST","v1","addLikeAC","postID","ADD_LIKE","setUserProfileAC","profile","SET_USER_PROFILE","setUserStatusAC","status","SET_USER_STATUS","setPhotoAC","file","SET_PHOTO","postData","message","like","comment","newPostText","userId","lookingForAJob","lookingForAJobDescription","fullName","contacts","vk","github","facebook","instagram","mainLink","twitter","website","youtube","aboutMe","photos","small","large","newPost","post","SET_USER_PROFILE_DATA","setUserThunkCreator","profileAPI","getUserData","setUserStatusThunkCreator","getUserStatus","updateUserStatusThunkCreator","updateUserStatus","log","putPhotoThunkCreator","putPhoto","setProfileDataThunkCreator","setEditMod","updateUserData","loader","addTextMessageAC","ADD_TEXT_MESSAGE","dialogs","name","ava","text","copyState","el","push","FOLLOW","SET_USERS","CHANGE_PAGE","TOGGLE_IS_FETCHING_PAGE","TOGGLE_IS_FETCHING_USER","followAC","userID","changePageAC","pageID","toggleIsFetchingPageAC","isFetchingPage","toggleIsFetchingUserAC","isFetchingUser","usersState","items","followed","pageSize","totalCount","error","currentPage","user","setPageThunkCreator","UserAPI","setUserOnPageAPI","followUnfollowCB","API_method","unFollowThunkCreator","followAPI","setUnFollow","followThunkCreator","setFollow","instance","axios","create","baseURL","withCredentials","headers","get","catch","res","delete","image","formData","FormData","append","put"],"mappings":"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","file":"static/js/main.51a551e1.chunk.js","sourcesContent":["export enum ResultCode {\r\n  success,\r\n  error,\r\n}","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { actionPT } from './store_redux';\r\nimport { ItemPT } from 'components/Navigation/Navigation';\r\n\r\nexport type sidebarATPT = ReturnType<typeof sidebarAC>\r\n\r\nconst initialState: Array<ItemPT> = [\r\n  { path: '/profile', title: 'Profile' },\r\n  { path: '/messages', title: 'Messages' },\r\n  { path: '/users', title: 'Users' },\r\n  { path: '/news', title: 'News' },\r\n  { path: '/music', title: 'Music' },\r\n  { path: '/settings', title: 'Settings' },\r\n  { path: '/login', title: 'Login' },\r\n];\r\n\r\nconst SIDE_BAR_TEST = 'SIDE_BAR_TEST';\r\n\r\nexport const sidebarAC = () => ({ type: SIDE_BAR_TEST } as const);\r\n\r\nexport const sidebar_reducer = (state: Array<ItemPT> = initialState, action: actionPT): Array<ItemPT> => {\r\n\r\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n  let a = action;\r\n  return state;\r\n};\r\n","import { actionPT, BaseThunkType } from 'redux/store_redux';\r\nimport { setUserDataThunkCreator } from 'redux/auth_reducer';\r\nimport { FormAction } from 'redux-form';\r\nimport { SET_INITIALIZED } from 'redux/constTypeAC/constTypies';\r\n\r\nexport type setInitializedAPPACPT = ReturnType<typeof setInitializedAPPAC>\r\n\r\nexport type userDataInitialStateType = {\r\n  initialized: boolean\r\n}\r\n\r\nexport const setInitializedAPPAC = (initialized: boolean) => ({\r\n  type: SET_INITIALIZED,\r\n  initialized,\r\n} as const);\r\n\r\nconst userDataInitialState: userDataInitialStateType = {\r\n  initialized: false,\r\n};\r\n\r\nexport const app_reducer = (state = userDataInitialState, action: actionPT): userDataInitialStateType => {\r\n  switch (action.type) {\r\n    case SET_INITIALIZED:\r\n      return { ...state, initialized: action.initialized };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport type ThunkType = BaseThunkType<actionPT | FormAction> //типизация для вызова санки внутри санки\r\n\r\nexport const initializeThunkCreator = (): ThunkType => async (dispatch) => {\r\n\r\n  let promise = dispatch(setUserDataThunkCreator()); // вызов второй санки // всегда возвращается promise\r\n\r\n  Promise.all([promise])\r\n    .then(() => {\r\n      dispatch(setInitializedAPPAC(true));\r\n    });\r\n};\r\n\r\n","import {\r\n  addLikeACPT,\r\n  addPostATPT,\r\n  profile_reducer, setPhotoACPT,\r\n  setUserProfileACPT, setUserProfileDataACPT,\r\n  setUserStatusACPT,\r\n} from './profile_reducer';\r\nimport { addTextMessageATPT, dialogs_reducer } from './dialogs_reducer';\r\nimport { sidebar_reducer, sidebarATPT } from './sidebar_reducer';\r\nimport {\r\n  changePageACPT,\r\n  followATPT,\r\n  setUsersATPT,\r\n  toggleIsFetchingPageACPT,\r\n  toggleIsFetchingUserACPT,\r\n  users_reducer,\r\n} from './users_reducer';\r\nimport { auth_reducer, setUserDataACPT } from './auth_reducer';\r\nimport {\r\n  Action,\r\n  applyMiddleware,\r\n  combineReducers,\r\n  compose,\r\n  createStore,\r\n  Store,\r\n} from 'redux';\r\nimport thunkMiddleware, { ThunkAction } from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport { app_reducer, setInitializedAPPACPT } from 'redux/app_reducer';\r\n\r\nexport type AppStatePT = ReturnType<typeof reducer>\r\n\r\nexport const reducer = combineReducers({\r\n  sidebarPage: sidebar_reducer,\r\n  profilePage: profile_reducer,\r\n  dialogsPage: dialogs_reducer,\r\n  users: users_reducer,\r\n  auth: auth_reducer,\r\n  form: formReducer,   // redux-form\r\n  app: app_reducer,\r\n});\r\n\r\ndeclare global {\r\n  interface Window {\r\n    __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\r\n  }\r\n}\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport const store: Store<AppStatePT> = createStore(reducer, compose(applyMiddleware(thunkMiddleware), composeEnhancers()));\r\n\r\n// // @ts-ignore\r\n// window.store = store;\r\n\r\nexport type actionPT =\r\n  addPostATPT\r\n  // | changePostACPT\r\n  | addTextMessageATPT\r\n  | sidebarATPT\r\n  | followATPT\r\n  | setUsersATPT\r\n  | changePageACPT\r\n  | toggleIsFetchingPageACPT\r\n  | toggleIsFetchingUserACPT\r\n  | addLikeACPT\r\n  | setUserProfileACPT\r\n  | setUserDataACPT\r\n  | setUserStatusACPT\r\n  | setInitializedAPPACPT\r\n  | setPhotoACPT\r\n  | setUserProfileDataACPT\r\n\r\nexport type BaseThunkType<A extends Action = Action, R = Promise<void>> = ThunkAction<R, AppStatePT, unknown, A>\r\n\r\n\r\n","import style from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { memo } from 'react';\r\nimport { mapDispatchToPropsPT } from 'components/Header/HeaderContainer';\r\n\r\nexport  type userDataPT = {\r\n  data: {\r\n    id: number\r\n    login: string\r\n    email: string\r\n  },\r\n  messages: string[]\r\n  fieldsErrors: string[]\r\n  resultCode: number\r\n  isAuth: boolean  // it is not from API\r\n}\r\n\r\nexport  type DataHeaderType = {\r\n  data: userDataPT\r\n}\r\n\r\nexport const Header = memo(({\r\n                              data,\r\n                              setLogoutThunkCreator,\r\n                            }: DataHeaderType & mapDispatchToPropsPT) => {\r\n\r\n  return (\r\n    <div className={style.header}>\r\n      <div>\r\n        <img alt={'logo'}\r\n             src='https://w7.pngwing.com/pngs/200/945/png-transparent-vitruvian-man-vinci-italian-renaissance-drawing-others-white-hand-monochrome.png' />\r\n        <div>LOGO</div>\r\n      </div>\r\n      <div className={style.loginBlock}>\r\n        {data.resultCode === 0\r\n          ? <div>{data.data.login}\r\n            <button onClick={setLogoutThunkCreator}>logout</button>\r\n          </div>\r\n          : <NavLink to={'/login'}>Login</NavLink>}\r\n      </div>\r\n    </div>\r\n  );\r\n});","import { DataHeaderType, Header } from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { setLogoutThunkCreator } from 'redux/auth_reducer';\r\nimport { AppStatePT } from 'redux/store_redux';\r\nimport { Component } from 'react';\r\n\r\nexport type mapDispatchToPropsPT = {\r\n  setLogoutThunkCreator: () => void\r\n}\r\n\r\nexport class HeaderContainerAPI extends Component<DataHeaderType & mapDispatchToPropsPT> {\r\n\r\n  render() {\r\n\r\n    let { data, setLogoutThunkCreator } = this.props;\r\n    return (\r\n      <Header data={data}\r\n              setLogoutThunkCreator={setLogoutThunkCreator}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStatePT): DataHeaderType => {\r\n  return { data: state.auth };\r\n};\r\n\r\nconst mapDispatchToProps: mapDispatchToPropsPT = {\r\n  setLogoutThunkCreator,\r\n};\r\n\r\nexport const HeaderContainer = connect(mapStateToProps, mapDispatchToProps)(HeaderContainerAPI);","import { memo } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport style from './Navigation.module.css';\r\n\r\nexport type sidebarPT = {\r\n  sidebarPage: Array<ItemPT>\r\n}\r\nexport type ItemPT = {\r\n  path: string\r\n  title: string\r\n}\r\n\r\nexport const Navigation = memo((state: sidebarPT) => {\r\n\r\n  return (<div>\r\n      <nav className={style.navigation}>\r\n        {state.sidebarPage.map((x, index) =>\r\n          <div key={index} className={style.item}>\r\n            <NavLink to={x.path}\r\n                     className={({ isActive }) => isActive ? style.active : ''}> {x.title} </NavLink>\r\n          </div>,\r\n        )}\r\n      </nav>\r\n    </div>\r\n  );\r\n});\r\n\r\n\r\n","import { connect } from 'react-redux';\r\nimport { Navigation, sidebarPT } from './Navigation';\r\nimport { actionPT, AppStatePT } from 'redux/store_redux';\r\n\r\nconst mapStateToProps = (state: AppStatePT): sidebarPT => {\r\n  return {\r\n    sidebarPage: state.sidebarPage,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: (action: actionPT) => void) => {\r\n  return {\r\n    test: () => dispatch({ type: 'SIDE_BAR_TEST' }),\r\n  };\r\n};\r\n\r\nexport const NavigationContainer = connect(mapStateToProps, mapDispatchToProps)(Navigation);\r\n  \r\n\r\n\r\n\r\n\r\n\r\n","import './App.css';\r\nimport { HeaderContainer } from 'components/Header/HeaderContainer';\r\nimport { Navigate, Route, Routes } from 'react-router-dom';\r\nimport React, { Component, lazy, Suspense } from 'react';\r\nimport { NavigationContainer } from 'components/Navigation/NavigationContainer';\r\nimport { userDataInitialStateType } from 'redux/app_reducer';\r\nimport { Preloader } from 'components/comonComponents/Preloader';\r\nimport { mapDispatchToPropsPT } from 'AppHOC';\r\n\r\nconst MessagesContainer = lazy(() => import('./components/Messages/MessagesContainer'));\r\nconst ProfileContainer = lazy(() => import('./components/Profile/ProfileContainer'));\r\nconst UsersContainer = lazy(() => import('./components/Users/UsersContainer'));\r\nconst News = lazy(() => import('components/News/News'));\r\nconst Login = lazy(() => import('components/Login/Login'));\r\nconst Music = lazy(() => import('components/Music/Music'));\r\nconst Page404 = lazy(() => import('components/Page404/Page404'));\r\nconst Settings = lazy(() => import('components/Settings/Settings'));\r\n\r\nclass App extends Component<mapDispatchToPropsPT & userDataInitialStateType> {\r\n\r\n  componentDidMount = () => {\r\n    this.props.initializeThunkCreator();\r\n  };\r\n\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Preloader />;\r\n    }\r\n\r\n    return (\r\n      <div className='app-wrapper'>\r\n        <HeaderContainer />\r\n        <NavigationContainer />\r\n        <div>\r\n          <Suspense fallback={<div>Loading...</div>}>\r\n            <Routes>\r\n              <Route path={'/'} element={<Navigate to={'/profile'} />} />\r\n              <Route path={'/samurai_way_my/'} element={<Navigate to={'/profile'} />} />\r\n              <Route path='/profile' element={<ProfileContainer />}>\r\n                <Route path=':userId' element={<ProfileContainer />} />\r\n              </Route>\r\n              <Route path={'/messages/*'} element={<MessagesContainer />} />\r\n              <Route path={'/users/'} element={<UsersContainer />} />\r\n              <Route path={'/news'} element={<News />} />\r\n              <Route path={'/music'} element={<Music />} />\r\n              <Route path={'/settings'} element={<Settings />} />\r\n              <Route path={'/login'} element={<Login />} />\r\n              <Route path={'/*'} element={<Page404 />} />\r\n            </Routes>\r\n          </Suspense>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { connect, Provider } from 'react-redux';\r\nimport { AppStatePT, store } from 'redux/store_redux';\r\nimport { initializeThunkCreator, userDataInitialStateType } from 'redux/app_reducer';\r\nimport App from 'App';\r\n\r\nexport const AppHoc = () => {\r\n  return (\r\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n      <Provider store={store}>\r\n        <NewApp />\r\n      </Provider>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport type mapDispatchToPropsPT = { initializeThunkCreator: () => void }\r\n\r\nconst mapDispatchToProps: mapDispatchToPropsPT = { initializeThunkCreator };\r\n\r\ntype mapStateToPropsType = (state: AppStatePT) => userDataInitialStateType\r\n\r\nconst mapStateToProps: mapStateToPropsType = (state) => {\r\n    return {\r\n      initialized: state.app.initialized,\r\n    };\r\n  }\r\n;\r\n\r\nconst NewApp = connect(mapStateToProps, mapDispatchToProps)(App);\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport './index.css';\r\nimport { store } from 'redux/store_redux'; // new store\r\nimport { AppHoc } from 'AppHOC';\r\n// import {store} from \"./redux/store\";\r\n\r\nlet renderEntireTree = () => {\r\n  ReactDOM.render(<AppHoc />, document.getElementById('root'));\r\n};\r\nrenderEntireTree(); // first render\r\nstore.subscribe(renderEntireTree); // next render\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import { actionPT } from './store_redux';\r\nimport { userDataPT } from 'components/Header/Header';\r\nimport { Dispatch } from 'redux';\r\nimport { authMeAPI, loginAPIRequestType } from 'api/api';\r\nimport { stopSubmit } from 'redux-form';\r\nimport { ThunkType } from 'redux/app_reducer';\r\nimport { ResultCode } from 'utils/enum/enum';\r\nimport { SET_USER_DATA } from 'redux/constTypeAC/constTypies';\r\n\r\nexport type setUserDataACPT = ReturnType<typeof setUserDataAC>\r\n\r\nexport const setUserDataAC = (data: userDataPT, isAuth: boolean) => ({\r\n  type: SET_USER_DATA,\r\n  data,\r\n  isAuth,\r\n} as const);\r\n\r\nconst userDataInitialState: userDataPT = {\r\n  data: {\r\n    id: 1,\r\n    login: '',\r\n    email: '',\r\n  },\r\n  messages: [''],\r\n  fieldsErrors: [''],\r\n  resultCode: 1,\r\n  isAuth: false,  // it is not from API\r\n};\r\n\r\nexport const auth_reducer = (state = userDataInitialState, action: actionPT): userDataPT => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return { ...state, ...action.data, isAuth: action.isAuth };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setUserDataThunkCreator = () => async (dispatch: Dispatch) => {\r\n  let response = await authMeAPI.me();\r\n\r\n  if (response.resultCode === ResultCode.success) {\r\n    dispatch(setUserDataAC(response, true));\r\n  } else {\r\n    console.warn(' You are not authorised. ResultCode: ' + response.resultCode);\r\n  }\r\n\r\n};\r\n\r\nexport const setLoginThunkCreator = (userData: loginAPIRequestType): ThunkType => async (dispatch) => {\r\n  let response = await authMeAPI.login(userData);\r\n\r\n  if (response.data.resultCode === ResultCode.success) {\r\n    await dispatch(setUserDataThunkCreator()); // вызов другой санки\r\n  } else {\r\n    let action = stopSubmit('LOGIN', {\r\n      _error: response.data.messages[0] ? response.data.messages[0] : 'something is wrong',\r\n      // ['email']: 'email is wrong',\r\n      // ['passwor' + 'd']: 'password is wrong',\r\n    });\r\n    dispatch(action);\r\n    console.warn(response.data.messages[0]);\r\n  }\r\n};\r\nexport const setLogoutThunkCreator = () => async (dispatch: Dispatch) => {\r\n  let response = await authMeAPI.logout();\r\n\r\n  if (response.data.resultCode === ResultCode.success) {\r\n    let response = await authMeAPI.me();\r\n    if (response.resultCode !== ResultCode.success) {\r\n      dispatch(setUserDataAC(response, false));\r\n    } else console.warn(' You are not authorised. ResultCode: ' + response.resultCode);\r\n  }\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navigation\":\"Navigation_navigation__1JoqJ\",\"active\":\"Navigation_active__3E8Bg\",\"item\":\"Navigation_item__1f3e1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1fh2h\",\"loginBlock\":\"Header_loginBlock__3MQmn\"};","import { v1 } from 'uuid';\r\nimport { actionPT } from './store_redux';\r\nimport { Dispatch } from 'redux';\r\nimport { profileAPI, ResponsePutPhoto } from 'api/api';\r\nimport { ResultCode } from 'utils/enum/enum';\r\nimport {\r\n  ADD_LIKE,\r\n  ADD_POST,\r\n  SET_PHOTO,\r\n  SET_USER_PROFILE, SET_USER_PROFILE_DATA, SET_USER_STATUS,\r\n} from 'redux/constTypeAC/constTypies';\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nexport type addPostATPT = ReturnType<typeof addPostAC>\r\nexport type addLikeACPT = ReturnType<typeof addLikeAC>\r\nexport type setUserProfileACPT = ReturnType<typeof setUserProfileAC>\r\nexport type setUserStatusACPT = ReturnType<typeof setUserStatusAC>\r\nexport type setPhotoACPT = ReturnType<typeof setPhotoAC>\r\nexport type setUserProfileDataACPT = ReturnType<typeof setUserProfileDataAC>\r\n\r\nexport const addPostAC = (value: string) => ({\r\n  type: ADD_POST,\r\n  value,\r\n  id: v1(),\r\n} as const);\r\nexport const addLikeAC = (postID: string) => ({ type: ADD_LIKE, postID } as const);\r\nexport const setUserProfileAC = (profile: ProfileType) => ({\r\n  type: SET_USER_PROFILE,\r\n  profile,\r\n} as const);\r\nexport const setUserStatusAC = (status: string) => ({\r\n  type: SET_USER_STATUS,\r\n  status,\r\n} as const);\r\nexport const setPhotoAC = (file: ResponsePutPhoto) => ({\r\n  type: SET_PHOTO,\r\n  file,\r\n} as const);\r\nexport const setUserProfileDataAC = (data: ProfileDataType) => {\r\n  return {\r\n    type: SET_USER_PROFILE_DATA,\r\n    data,\r\n  } as const;\r\n};\r\n\r\nexport type initialStateProfileType = {\r\n  postData: Array<PostDataType>\r\n  newPostText: string\r\n  profile: ProfileType\r\n  status: string       // another request\r\n}\r\n\r\nexport type PostDataType = {\r\n  id: string\r\n  message: string\r\n  like: number\r\n  comment: number\r\n}\r\n\r\nexport type ProfileType = ProfileDataType & {\r\n  userId: number\r\n  photos: {\r\n    small: string\r\n    large: string\r\n  }\r\n}\r\n\r\nexport type ProfileDataType = {\r\n  lookingForAJob: boolean\r\n  lookingForAJobDescription: string\r\n  fullName: string\r\n  contacts: ContactsType\r\n  aboutMe: string\r\n}\r\n\r\nexport type ContactsType = {\r\n  github: string\r\n  vk: string\r\n  facebook: string\r\n  instagram: string\r\n  twitter: string\r\n  website: string\r\n  youtube: string\r\n  mainLink: string\r\n}\r\n\r\nconst initialState: initialStateProfileType = {\r\n  postData: [\r\n    {\r\n      id: v1(),\r\n      message: 'Kiss me hard before you go Summertime sadness',\r\n      like: 2,\r\n      comment: 4,\r\n    },\r\n    {\r\n      id: v1(),\r\n      message: 'I just wanted you to know That baby you\\'re the best',\r\n      like: 7,\r\n      comment: 8,\r\n    },\r\n  ],    // it is not from API\r\n  newPostText: 'stock', // it is not from API\r\n  profile: {\r\n    userId: 0,\r\n    lookingForAJob: false,\r\n    lookingForAJobDescription: 'stock',\r\n    fullName: 'test',\r\n    contacts: {\r\n      vk: 'stock',\r\n      github: 'stock',\r\n      facebook: 'stock',\r\n      instagram: 'stock',\r\n      mainLink: 'stock',\r\n      twitter: 'stock',\r\n      website: 'stock',\r\n      youtube: 'stock',\r\n    },\r\n    aboutMe: 'stock',\r\n    photos: {\r\n      small: 'stock',\r\n      large: 'stock',\r\n    },\r\n  },\r\n  status: 'default status',\r\n};\r\n\r\nexport const profile_reducer = (state = initialState, action: actionPT): initialStateProfileType => {\r\n\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      let newPost = {\r\n        id: action.id,\r\n        message: action.value, // action.newText from redux form\r\n        like: 0,\r\n        comment: 0,\r\n      };\r\n      return { ...state, postData: [newPost, ...state.postData], newPostText: '' };\r\n    // case CHANGE_POST:\r\n    //     return {...state, newPostText: action.newText}\r\n    case ADD_LIKE:\r\n      return {\r\n        ...state, postData: state.postData\r\n          .map(post => post.id === action.postID ? {\r\n            ...post,\r\n            like: post.like + 1,\r\n          } : post),\r\n      };\r\n    case SET_USER_PROFILE:\r\n      return { ...state, profile: action.profile };\r\n    case SET_USER_STATUS:\r\n      return { ...state, status: action.status };\r\n    case SET_PHOTO:\r\n      return {\r\n        ...state, profile: { ...state.profile, photos: action.file.photos },\r\n      };\r\n    case SET_USER_PROFILE_DATA:\r\n\r\n      let {\r\n        lookingForAJobDescription,\r\n        lookingForAJob,\r\n        aboutMe,\r\n        fullName,\r\n        contacts,\r\n      } = action.data;\r\n\r\n      return {\r\n        ...state,\r\n        profile: {\r\n          aboutMe: aboutMe,\r\n          contacts: {\r\n            ...contacts,\r\n          },\r\n          lookingForAJob: false,\r\n          lookingForAJobDescription: lookingForAJobDescription,\r\n          fullName: fullName,\r\n          userId: 0,\r\n          photos: {\r\n            small: 'stock',\r\n            large: 'stock',\r\n          },\r\n        },\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setUserThunkCreator = (userId: string) => async (dispatch: Dispatch) => {\r\n  let response = await profileAPI.getUserData(userId);\r\n\r\n  dispatch(setUserProfileAC(response));\r\n\r\n};\r\n\r\nexport const setUserStatusThunkCreator = (userId: string) => async (dispatch: Dispatch) => {\r\n  let response = await profileAPI.getUserStatus(userId);\r\n\r\n  if (response) {\r\n    dispatch(setUserStatusAC(response));\r\n  } else {\r\n    dispatch(setUserStatusAC('status from API is null'));\r\n  }\r\n};\r\n\r\nexport const updateUserStatusThunkCreator = (status: string) => async (dispatch: Dispatch) => {\r\n  let response = await profileAPI.updateUserStatus(status);\r\n\r\n  console.log(response);\r\n  if (response.resultCode === ResultCode.success) {\r\n    dispatch(setUserStatusAC(status));  // если запрос успешный, то обнови статус на тот, который отправил\r\n  }\r\n};\r\n\r\nexport const putPhotoThunkCreator = (file: File) => async (dispatch: Dispatch) => {\r\n\r\n  let response = await profileAPI.putPhoto(file);\r\n  if (response.resultCode === ResultCode.success) {\r\n    dispatch(setPhotoAC(response.data));\r\n  }\r\n};\r\n\r\nexport const setProfileDataThunkCreator = (data: ProfileDataType, userId: string, setEditMod: (value: boolean) => void) => async (dispatch: Dispatch) => {\r\n  let response = await profileAPI.updateUserData(data);\r\n  if (response.resultCode === ResultCode.success) {\r\n    let response = await profileAPI.getUserData(userId); // дублирование .. как запустить вторую санку ?\r\n    dispatch(setUserProfileAC(response));\r\n    setEditMod(false)\r\n  } else {\r\n    let action = stopSubmit('PROFILE', {\r\n      // contacts: { vk: 'error' }, нужно распарсить строку\r\n      _error: response.messages[0] ? response.messages[0] : 'something is wrong',\r\n    });\r\n    dispatch(action);\r\n  }\r\n};\r\n","export default __webpack_public_path__ + \"static/media/blak_water.3ed3be3a.gif\";","import style from '../Users/Users.module.css';\r\nimport loader from '../Users/imgAva/blak_water.gif';\r\nimport { memo } from 'react';\r\n\r\nexport const Preloader = memo(() => {\r\n  return <img className={style.loader} alt={'loader'} src={loader} />;\r\n});","import { actionPT } from './store_redux';\r\nimport { dialogsItemsPT } from 'components/Messages/MessagesContainer';\r\nimport { ADD_TEXT_MESSAGE } from 'redux/constTypeAC/constTypies';\r\n\r\nexport type addTextMessageATPT = ReturnType<typeof addTextMessageAC>\r\n\r\n\r\n\r\nexport const addTextMessageAC = (value: string) => ({\r\n  type: ADD_TEXT_MESSAGE,\r\n  value,\r\n} as const);\r\n\r\nconst initialState: dialogsItemsPT =\r\n  {\r\n    dialogs: [\r\n      {\r\n        id: 1,\r\n        name: 'Alexa',\r\n        ava: 'https://wl-adme.cf.tsp.li/resize/728x/jpg/828/489/b2756c5cdd8b6216f063d69448.jpg',\r\n      },\r\n      {\r\n        id: 2,\r\n        name: 'Olga',\r\n        ava: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQRyOavUGIwOOX3ETRRyYRX5i6cckfejkOGGZuuzC49v3Kn9fts9Af4l3JsKYc1SxZb3VU&usqp=CAU',\r\n      },\r\n      {\r\n        id: 3,\r\n        name: 'Anna',\r\n        ava: 'https://www.meme-arsenal.com/memes/45e5d421b1445a06da4d6850fcafdb1a.jpg',\r\n      },\r\n      {\r\n        id: 4,\r\n        name: 'Yra',\r\n        ava: 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Arnold_Schwarzenegger_by_Gage_Skidmore_3.jpg/250px-Arnold_Schwarzenegger_by_Gage_Skidmore_3.jpg',\r\n      },\r\n      {\r\n        id: 5,\r\n        name: 'Mary',\r\n        ava: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSGxVCtR7JN6dLYj0xMPGyB0n-cSqxx7DQpLrf34ZuJHv4UhUeJlf5TCgyBg4IwWroZIFE&usqp=CAU',\r\n      },\r\n    ],\r\n    messages: [\r\n      { id: 1, text: 'Hi' },\r\n      { id: 2, text: 'How are you' },\r\n      { id: 3, text: 'Good' },\r\n      { id: 4, text: 'Yo' },\r\n      { id: 5, text: 'Yo' },\r\n    ],\r\n  };\r\n\r\nexport const dialogs_reducer = (state: dialogsItemsPT = initialState, action: actionPT): dialogsItemsPT => {\r\n\r\n  switch (action.type) {\r\n    case ADD_TEXT_MESSAGE:\r\n      let newPost = { id: 2, text: action.value };\r\n      let copyState = {\r\n        ...state,\r\n        messages: state.messages.map(el => ({ ...el })),\r\n      };\r\n      copyState.messages.push(newPost);\r\n      return copyState;\r\n    default:\r\n      return state;\r\n  }\r\n};","\r\n// profile\r\nexport const ADD_POST = 'ADD-POST';\r\nexport const SET_PHOTO = 'SET_PHOTO';\r\nexport const ADD_LIKE = 'ADD_LIKE';\r\nexport const SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nexport const SET_USER_STATUS = 'SET_USER_STATUS';\r\nexport const SET_USER_PROFILE_DATA = 'SET_USER_PROFILE_DATA';\r\n\r\n// auth\r\nexport const SET_USER_DATA = 'SET_USER_DATA';\r\n\r\n// app\r\nexport const SET_INITIALIZED = 'APP_REDUCER/SET_INITIALIZED';\r\n\r\n// dialogs\r\nexport const ADD_TEXT_MESSAGE = 'ADD_TEXT_MESSAGE';","import { actionPT } from './store_redux';\r\nimport { UserPT, UsersStatePT } from 'components/Users/UsersContainer';\r\nimport { Dispatch } from 'redux';\r\nimport { followAPI, UserAPI } from 'api/api';\r\nimport { ResultCode } from 'utils/enum/enum';\r\n\r\ntype API_methodType = typeof followAPI.setUnFollow\r\n\r\nexport type followATPT = ReturnType<typeof followAC>\r\nexport type setUsersATPT = ReturnType<typeof setUsersAC>\r\nexport type changePageACPT = ReturnType<typeof changePageAC>\r\nexport type toggleIsFetchingPageACPT = ReturnType<typeof toggleIsFetchingPageAC>\r\nexport type toggleIsFetchingUserACPT = ReturnType<typeof toggleIsFetchingUserAC>\r\n\r\nexport const FOLLOW = 'FOLLOW';\r\nexport const SET_USERS = 'SET_USERS';\r\nexport const CHANGE_PAGE = 'CHANGE_PAGE';\r\nexport const TOGGLE_IS_FETCHING_PAGE = 'TOGGLE_IS_FETCHING_PAGE';\r\nexport const TOGGLE_IS_FETCHING_USER = 'TOGGLE_IS_FETCHING_USER';\r\n\r\nexport const followAC = (userID: number) => ({ type: FOLLOW, userID } as const);\r\nexport const setUsersAC = (users: UserPT[], totalCount: number) => ({\r\n  type: SET_USERS,\r\n  users,\r\n  totalCount,\r\n} as const);\r\nexport const changePageAC = (pageID: number) => ({\r\n  type: CHANGE_PAGE,\r\n  pageID,\r\n} as const);\r\nexport const toggleIsFetchingPageAC = (isFetchingPage: boolean) => ({\r\n  type: TOGGLE_IS_FETCHING_PAGE,\r\n  isFetchingPage,\r\n} as const);\r\nexport const toggleIsFetchingUserAC = (isFetchingUser: boolean, userID: number) => ({\r\n  type: TOGGLE_IS_FETCHING_USER,\r\n  isFetchingUser,\r\n  userID,\r\n} as const);\r\n\r\nlet usersState: UsersStatePT = {\r\n  items: [\r\n    {\r\n      id: 0,\r\n      name: 'null',\r\n      status: 'null',\r\n      photos: { small: 'null', large: 'null' },\r\n      followed: false,\r\n      isFetchingUser: false,  // add this key  myself\r\n    }],\r\n  pageSize: 4,\r\n  totalCount: 36,\r\n  error: 'Error',\r\n  currentPage: 1,\r\n  isFetchingPage: true,          // add this key  myself\r\n};\r\n\r\nexport const users_reducer = (state: UsersStatePT = usersState, action: actionPT): UsersStatePT => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state, items: state.items\r\n          .map(user => user.id === action.userID ? {\r\n            ...user,\r\n            followed: !user.followed,\r\n          } : user),\r\n      };\r\n    case SET_USERS:\r\n      return { ...state, items: action.users, totalCount: action.totalCount };\r\n    case CHANGE_PAGE:\r\n      return { ...state, currentPage: action.pageID };\r\n    case TOGGLE_IS_FETCHING_PAGE:\r\n      return { ...state, isFetchingPage: action.isFetchingPage };\r\n    case TOGGLE_IS_FETCHING_USER:\r\n      return {\r\n        ...state, items: state.items\r\n          .map(user => user.id === action.userID ? {\r\n            ...user,\r\n            isFetchingUser: action.isFetchingUser,\r\n          } : user),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setPageThunkCreator = (pageID: number, pageSize: number) => async (dispatch: Dispatch) => {\r\n  dispatch(toggleIsFetchingPageAC(true));\r\n  dispatch(changePageAC(pageID));\r\n  let response = await UserAPI.setUserOnPageAPI(pageID, pageSize);\r\n  dispatch(setUsersAC(response.items, response.totalCount));\r\n  dispatch(toggleIsFetchingPageAC(false));\r\n};\r\n\r\nconst followUnfollowCB = async (userID: number, dispatch: Dispatch, API_method: API_methodType) => {\r\n  dispatch(toggleIsFetchingUserAC(true, userID));\r\n  let response = await API_method(userID);\r\n  if (response.resultCode === ResultCode.success) {\r\n    dispatch(followAC(userID));\r\n    dispatch(toggleIsFetchingUserAC(false, userID));\r\n  }\r\n};\r\n\r\nexport const unFollowThunkCreator = (userID: number) => async (dispatch: Dispatch) => {\r\n  await followUnfollowCB(userID, dispatch, followAPI.setUnFollow);\r\n};\r\n\r\nexport const followThunkCreator = (userID: number) => async (dispatch: Dispatch) => {\r\n  await followUnfollowCB(userID, dispatch, followAPI.setFollow);\r\n};\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main_div\":\"Users_main_div__2ONGl\",\"buttons_pages\":\"Users_buttons_pages__2JlFY\",\"current\":\"Users_current__1rDG_\",\"loader\":\"Users_loader__3wz82\"};","import axios, { AxiosResponse } from 'axios';\r\nimport { UsersStatePT } from 'components/Users/UsersContainer';\r\nimport { userDataPT } from 'components/Header/Header';\r\nimport { ProfileDataType, ProfileType } from 'redux/profile_reducer';\r\n\r\nconst instance = axios.create({\r\n  baseURL: process.env.REACT_APP_BASE_URL,\r\n  withCredentials: true,\r\n  headers: { 'API-KEY': process.env.REACT_APP_API_KEY as string },\r\n});\r\n\r\nexport type loginAPIRequestType = {\r\n  email: string\r\n  password: string\r\n  rememberMe: boolean\r\n  captcha: boolean\r\n}\r\n\r\nexport type CommonResponseType<T = {}> = {\r\n  data: T\r\n  fieldsErrors: []\r\n  messages: string[]\r\n  resultCode: number\r\n}\r\n\r\ntype loginAPIResponseType = {\r\n  userId: number\r\n}\r\n\r\ntype payloadStatusType = { status: string };\r\n\r\nexport const authMeAPI = {\r\n\r\n  me() {\r\n    return instance\r\n      .get<userDataPT>('auth/me')\r\n      .then((response) => {\r\n        return response.data;\r\n      });\r\n  },\r\n\r\n  login(data: loginAPIRequestType) {\r\n    return instance\r\n      .post<null, AxiosResponse<CommonResponseType<loginAPIResponseType>>>('/auth/login', data)\r\n      .then((response) => {\r\n        return response;\r\n      }).catch((res) => res);\r\n  },\r\n  logout() {\r\n    return instance.delete<null, AxiosResponse<CommonResponseType>>('/auth/login');\r\n  },\r\n};\r\n\r\nexport type ResponsePutPhoto = {\r\n  photos: {\r\n    small: string\r\n    large: string\r\n  }\r\n}\r\n\r\nexport const profileAPI = {\r\n  putPhoto(image: File) {\r\n    let formData = new FormData();\r\n    formData.append('image', image);\r\n    return instance\r\n      .put<null, AxiosResponse<CommonResponseType<ResponsePutPhoto>>>('/profile/photo', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      })\r\n      .then((response) => {\r\n        return response.data;\r\n      });\r\n  },\r\n  getUserData(userID: string) {\r\n    return instance\r\n      .get<null, AxiosResponse<ProfileType>>('profile/' + userID)\r\n      .then((response) => {\r\n        return response.data;\r\n      });\r\n  },\r\n  getUserStatus(userID: string) {\r\n    return instance\r\n      .get<null, AxiosResponse<string>>('/profile/status/' + userID)\r\n      .then((response) => {\r\n          return response.data;   // только строка\r\n        },\r\n      );\r\n  },\r\n  updateUserStatus(status: string) {\r\n    return instance\r\n      .put<null, AxiosResponse<CommonResponseType>, payloadStatusType>('/profile/status', { status }) // 2 argument -  Media type: application/json\r\n      .then((state) => {\r\n        return state.data;\r\n      });\r\n  },\r\n  updateUserData(data: ProfileDataType) {\r\n    return instance\r\n      .put<null, AxiosResponse<CommonResponseType>>('/profile', { ...data })\r\n      .then((response) => {\r\n        return response.data;\r\n      });\r\n  },\r\n};\r\n\r\nexport const UserAPI = {\r\n  setUserOnPageAPI(pageID: number, pageSize: number) {\r\n    return instance\r\n      .get<null, AxiosResponse<UsersStatePT>>(`users?page=${pageID}&count=${pageSize}`)\r\n      .then((response) => {\r\n        return response.data;\r\n      });\r\n  },\r\n};\r\n\r\nexport const followAPI = {\r\n\r\n  setUnFollow: (userID: number) => {\r\n    return instance\r\n      .delete<null, AxiosResponse<CommonResponseType>>('follow/' + userID)\r\n      .then((response) => {\r\n        return response.data;\r\n      });\r\n  },\r\n  setFollow: (userID: number) => {\r\n    return instance\r\n      .post<null, AxiosResponse<CommonResponseType>>('follow/' + userID)\r\n      .then(response => {\r\n        return response.data;\r\n      });\r\n  },\r\n};\r\n"],"sourceRoot":""}